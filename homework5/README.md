# Описание работы скриптов на bash:    
1) Общее количество запросов  
`echo "task1 (total requests)" > results_bash.txt`  
`cat access.log | wc -l >> results_bash.txt`    
Записываем в файл task1 (total requests), далее выводим в консоль содержимое файла,
перенаправляем вывод через |, считаем количество строк и записываем в файл.    
2) Общее количество запросов по типу   
`echo "task2 (total requests by method)" >> results_bash.txt`    
`awk '{a[substr($6,2)]++}END{for(i in a) print i,a[i] | "sort -rnk2"}' access.log >> results_bash.txt`   
Записываем в файл task2 (total requests by method), далее передаем на вход в awk файл с логом, в качестве аргумента передается функция, которая в цикле обрабатывает каждую строчку лога
до END. То, что происходит в каждой итерации цикла: отдает 6 столбец строки a (начиная со 2 символа, чтобы убрать ") и увеличивает счетчик вхождения
конкретного метода. После выполнения цикла выполняется заключительная операция, выводящая методы с финальным значением счетчика, которая вызывается единожды после окончания итерирования,
вывод перенаправляется через |, сортируется численно по 2 столбцу по возрастанию, результат печати записывается
в файл.
3) Топ 10 самых частых запросов   
`echo "task3 (top 10 most frequent requests)" >> results_bash.txt`  
`cut -d ' ' -f7 access.log | sort | uniq -c | sort -rn | head -n10 >> results_bash.txt`   
Записываем в файл task3 (top 10 most frequent requests), далее обрезаем содержимое файла по пробелам и выводим 7 колонку результатов,
перенаправляем вывод через |, сортируем, перенаправляем вывод через |, оставляем только уникальные, подсчитывая, сколько раз они встретились,
перенаправляем вывод через |, сортируем численно в обратном порядке, перенаправляем вывод через |, выводим первые 10 результатов 
и записываем в файл.
4) Топ 5 самых больших по размеру запросов, которые завершились клиентской (4ХХ) ошибкой   
`echo "task4 (top 5 largest 4XX requests)" >> results_bash.txt`  
`cut -d ' ' -f7 -f9 -f10 -f1 access.log | grep "\s4[0-9][0-9]\s" | sort -rk4 | head -n5 >> results_bash.txt`   
Записываем в файл task4 (top 5 largest 4XX requests), далее обрезаем содержимое файла по пробелам и выводим 7, 9, 10 и 1 колонки результатов,
перенаправляем вывод через |, фильтруем по совпадению с выражением 4XX раздельно от других слов через regex, перенаправляем вывод через |,
сортируем в обратном порядке по 4 колонке, перенаправляем вывод через |, выводим первые 5 результатов 
и записываем в файл.
5) Топ 5 пользователей по количеству запросов, которые завершились серверной (5ХХ) ошибкой   
`echo "task5 (top 5 users by number of requests that ended 5XX)" >> results_bash.txt`  
`cut -d ' ' -f1 -f9 access.log | grep "5[0-9][0-9]" | sort | uniq -c |sort -r | head -n5 | awk '{print $1" " $2}' >> results_bash.txt`   
Записываем в файл task5 (top 5 users by number of requests that ended 5XX), далее обрезаем содержимое файла по пробелам и выводим 1 и 9 колонки результатов,
перенаправляем вывод через |, фильтруем по совпадению с выражением 5XX через regex, перенаправляем вывод через |,
сортируем, перенаправляем вывод через |, оставляем только уникальные, подсчитывая, сколько раз они встретились, перенаправляем вывод через |, сортируем в обратном порядке, перенаправляем вывод через |, выводим первые 5 результатов,
перенаправляем вывод через |, через awk печатаем содержимое первого и второго столбцов и записываем в файл.
    
# Описание работы скриптов на python:  
1) Общее количество запросов  
Читаем файл с логами, считаем строки, выводим количество строк.   
2) Общее количество запросов по типу   
Составляем словарь DATA из столбика с методами файла логов и строки f"method{i}". Далее через библиотеку Counter подсчитываем
количество методов в значениях словаря DATA, записываем результаты в новый словарь, выводим его.
3) Топ 10 самых частых запросов   
Читаем файл с логами, через библиотеку Counter подсчитываем количество url, выводим 10 самых частых и количество обращений к ним.
4) Топ 5 самых больших по размеру запросов, которые завершились клиентской (4ХХ) ошибкой   
Читаем файл, записываем в словарь строку и  значение столбика с размером запроса, если в данной строке статус код запроса начинался с 4.
Выводим топ 5 самых больших по размеру запросов: ip, url, статус код, размер запроса.   
5) Топ 5 пользователей по количеству запросов, которые завершились серверной (5ХХ) ошибкой   
Читаем файл, записываем в словарь ip и число его вхождений в поиске, если статус код запроса начинался с 5. Выводим то 5
ip и их счетчики.   

Файл с результатами выполнения bash скриптов - `results_bash.txt`, json с результатами выполнения python скриптов - `results_python.json`.   
Флаг запуска для создания json файла с результатами для python  `--json`.